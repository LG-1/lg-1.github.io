<!DOCTYPE html>
<html lang="default">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.2/css/all.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css">

<script class="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"www.ourantech.club","root":"/","images":"/images","scheme":"Mist","version":"8.2.2","exturl":false,"sidebar":{"position":"right","display":"hide","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}};
  </script>
<meta name="description" content="ä¸è¦è¯´æ˜¯ä¸ºä»€ä¹ˆ ç‡•è¿‡ç•™å£° é£å»ç•™ç—•">
<meta property="og:type" content="website">
<meta property="og:title" content="é™©å³°é£æ™¯">
<meta property="og:url" content="https://www.ourantech.club/page/5/index.html">
<meta property="og:site_name" content="é™©å³°é£æ™¯">
<meta property="og:description" content="ä¸è¦è¯´æ˜¯ä¸ºä»€ä¹ˆ ç‡•è¿‡ç•™å£° é£å»ç•™ç—•">
<meta property="og:locale">
<meta property="article:author" content="LG">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://www.ourantech.club/page/5/">


<script class="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'default'
  };
</script>
<title>é™©å³°é£æ™¯</title>
  

  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?f95014efec3872e56078487ae6afdc70";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>



  <noscript>
  <style>
  body { margin-top: 2rem; }

  .use-motion .menu-item,
  .use-motion .sidebar,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header {
    visibility: visible;
  }

  .use-motion .header,
  .use-motion .site-brand-container .toggle,
  .use-motion .footer { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle,
  .use-motion .custom-logo-image {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line {
    transform: scaleX(1);
  }

  .search-pop-overlay, .sidebar-nav { display: none; }
  .sidebar-panel { display: block; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">é™©å³°é£æ™¯</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home"><a href="/" rel="section"><i class="home fa-fw"></i>Home</a></li>
        <li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="archive fa-fw"></i>Archives</a></li>
        <li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="th fa-fw"></i>Categories</a></li>
        <li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="tags fa-fw"></i>Tags</a></li>
        <li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="user fa-fw"></i>About</a></li>
  </ul>
</nav>




</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">LG</p>
  <div class="site-description" itemprop="description">ä¸è¦è¯´æ˜¯ä¸ºä»€ä¹ˆ ç‡•è¿‡ç•™å£° é£å»ç•™ç—•</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">46</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">11</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">31</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://www.kaggle.com/xffjlg" title="Kaggle â†’ https://www.kaggle.com/xffjlg" rel="noopener" target="_blank">Kaggle</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://weibo.com/u/5594215928" title="Weibo â†’ https://weibo.com/u/5594215928" rel="noopener" target="_blank"><i class="weibo fa-fw"></i>Weibo</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://github.com/LG-1" title="GitHub â†’ https://github.com/LG-1" rel="noopener" target="_blank"><i class="github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="/uploads/wechat.jpg" title="Wechat â†’ /uploads/wechat.jpg"><i class="wechat fa-fw"></i>Wechat</a>
      </span>
      <span class="links-of-author-item">
        <a href="/uploads/donate.png" title="Donate â†’ /uploads/donate.png">Donate</a>
      </span>
  </div>
  <div class="cc-license site-overview-item animated" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
  </div>



        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://www.ourantech.club/2019/01/08/012_An%20efficient%20NLP%20Word2Vec%20usage%20method/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="LG">
      <meta itemprop="description" content="ä¸è¦è¯´æ˜¯ä¸ºä»€ä¹ˆ ç‡•è¿‡ç•™å£° é£å»ç•™ç—•">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="é™©å³°é£æ™¯">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2019/01/08/012_An%20efficient%20NLP%20Word2Vec%20usage%20method/" class="post-title-link" itemprop="url">An efficient NLP Word2Vec usage method</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2019-01-08 12:00:00" itemprop="dateCreated datePublished" datetime="2019-01-08T12:00:00+08:00">2019-01-08</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">Edited on</span>
        <time title="Modified: 2019-11-09 23:02:30" itemprop="dateModified" datetime="2019-11-09T23:02:30+08:00">2019-11-09</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Tech/" itemprop="url" rel="index"><span itemprop="name">Tech</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h1><p>This article mainly introduces a word embedding trick when performing deep learning tasks in the NLP field.<a target="_blank" rel="noopener" href="https://github.com/LG-1/w2vembeddings">w2vembeddings</a>ã€‚Reduce unnecessary memory usage and 95% load time. It also greatly enhances the management ability and reusability of the word embedding library.</p>
<h1 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h1><p>When performing NLP tasks, Word2Vec is generally used for embedding. Generate a word vector matrix based on the current task. As below.<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">embedding_matrix_p</span>(<span class="params">embeddings_index, word_index, max_features</span>):            </span><br><span class="line">    embed_size = embeddings_index.get(<span class="string">&#x27;a&#x27;</span>).shape[<span class="number">0</span>]</span><br><span class="line">    embedding_matrix = np.random.normal(<span class="number">0</span>, <span class="number">0</span>, (max_features, embed_size))</span><br><span class="line">    <span class="keyword">for</span> word, i <span class="keyword">in</span> word_index.items():</span><br><span class="line">        <span class="keyword">if</span> i &gt;= max_features: <span class="keyword">continue</span></span><br><span class="line">        embedding_vector = embeddings_index.get(word, np.zeros(embed_size))</span><br><span class="line">        embedding_matrix[i] = embedding_vector</span><br><span class="line">    <span class="keyword">return</span> embedding_matrix</span><br></pre></td></tr></table></figure></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">EMBEDDING_FILE = <span class="string">&#x27;../input/embeddings/glove.840B.300d/glove.840B.300d.txt&#x27;</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_coefs</span>(<span class="params">word,*arr</span>): <span class="keyword">return</span> word, np.asarray(arr, dtype=<span class="string">&#x27;float32&#x27;</span>)</span><br><span class="line">embeddings_index = <span class="built_in">dict</span>(get_coefs(*o.split(<span class="string">&quot; &quot;</span>)) <span class="keyword">for</span> o <span class="keyword">in</span> <span class="built_in">open</span>(EMBEDDING_FILE))</span><br><span class="line">embedding_matrix, embed_size = embedding_matrix_p(embeddings_index, word_index, max_features)</span><br></pre></td></tr></table></figure>
<p>But this have a problem, if you need to parse from the file (txt/bin) each time, it is time consuming, and the loaded into the memory vectors is not all used. If there are only 20,000 words divisions in a certain task, but the word vector files are generally contains several millions, the real effect is only a few percent. So how to solve this part of unnecessary time waste and memory usage?</p>
<h1 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h1><p>After understanding some of the ways to deploy word2vec, I found that there are probably two of them:<br>    1ã€Load to memory from local file.<br>    2ã€REST API.<br>Solution 1 is also the mode described above. time and memory are wasted.<br>Solution 2 is to serve the request vector separately, and the architecture will be clearer. But if you need to use the global word vector, it will be more troublesome, and it is really necessary to start a service so complicated?</p>
<p>In my leisure time, reference<a target="_blank" rel="noopener" href="https://github.com/vzhong/embeddings">embeddings</a> and do some other works<a target="_blank" rel="noopener" href="https://github.com/LG-1/w2vembeddings">w2vembeddings</a>ã€‚<br>The main thing is to transfer the word vector content to SQLite. In essence, it is to change word2vec to a storage format. But since SQLite is a database and there is no server. So it is convenient and efficient, and the query is fast (you donâ€™t need to use the write function, except when you convert the format for the first time).</p>
<p>Mainly functions:<br>    Word vector library management<br>    Word vector instant call, ready to use</p>
<p>Instructionsï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> w2vembeddings.w2vemb <span class="keyword">import</span> EMB</span><br><span class="line">emb = EMB(name=<span class="string">&#x27;tencent&#x27;</span>, dimensions=<span class="number">200</span>)  <span class="comment"># Load the word vector library, equivalent to the original step of loading from the file</span></span><br><span class="line"><span class="comment"># Extract word vector matrix on demand</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">embedding_matrix_p</span>(<span class="params">emb, word_index, max_features</span>):    </span><br><span class="line">    embed_size = <span class="built_in">len</span>(emb.get_vector(<span class="string">&#x27;a&#x27;</span>))</span><br><span class="line">    embedding_matrix = np.random.normal(<span class="number">0</span>, <span class="number">0</span>, (max_features, embed_size))</span><br><span class="line">    <span class="keyword">for</span> word, i <span class="keyword">in</span> word_index.items():</span><br><span class="line">        <span class="keyword">if</span> i &gt;= max_features: <span class="keyword">continue</span></span><br><span class="line">        embedding_matrix[i] = np.array(emb.get_vector(word))</span><br><span class="line">    <span class="keyword">return</span> embedding_matrix</span><br></pre></td></tr></table></figure>
<p>It can save almost all unnecessary memory usage and 95% of the time.</p>
<h1 id="Problem-1"><a href="#Problem-1" class="headerlink" title="Problem"></a>Problem</h1><p>Of course, this solution has problems. Like the REST API, it is not convenient to use the global information of the word vector. If you have such a requirement, it is recommended to refer to gensim.<br>This method is mainly for those who often use word2vec for research, as well as small online deployment scenarios.<br><a href="https://www.ourantech.club/2019/01/06/011_ä¸€ç§é«˜æ•ˆçš„NLP%20Word2Vecä½¿ç”¨æ–¹æ³•/">Originally published in</a><br>and<a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/Lc6ti634aN31D1Z0T-N2eA">Wechat</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://www.ourantech.club/2019/01/08/013_%E8%B5%84%E6%BA%90%E9%93%BE%E6%8E%A5/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="LG">
      <meta itemprop="description" content="ä¸è¦è¯´æ˜¯ä¸ºä»€ä¹ˆ ç‡•è¿‡ç•™å£° é£å»ç•™ç—•">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="é™©å³°é£æ™¯">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2019/01/08/013_%E8%B5%84%E6%BA%90%E9%93%BE%E6%8E%A5/" class="post-title-link" itemprop="url">èµ„æºé“¾æ¥</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2019-01-08 12:00:00" itemprop="dateCreated datePublished" datetime="2019-01-08T12:00:00+08:00">2019-01-08</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">Edited on</span>
        <time title="Modified: 2019-11-09 23:02:18" itemprop="dateModified" datetime="2019-11-09T23:02:18+08:00">2019-11-09</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Tech/" itemprop="url" rel="index"><span itemprop="name">Tech</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="æ·±åº¦å­¦ä¹ "><a href="#æ·±åº¦å­¦ä¹ " class="headerlink" title="æ·±åº¦å­¦ä¹ "></a>æ·±åº¦å­¦ä¹ </h1><p>cudnn <a target="_blank" rel="noopener" href="https://docs.nvidia.com/deeplearning/sdk/cudnn-install/index.html#install-windows">å¼€å‘è€…æ‰‹å†Œ</a>å’Œ<a target="_blank" rel="noopener" href="https://docs.nvidia.com/deeplearning/sdk/cudnn-developer-guide/index.html">å®‰è£…æŒ‡å—</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://www.ourantech.club/2019/01/06/011_%E4%B8%80%E7%A7%8D%E9%AB%98%E6%95%88%E7%9A%84NLP%20Word2Vec%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="LG">
      <meta itemprop="description" content="ä¸è¦è¯´æ˜¯ä¸ºä»€ä¹ˆ ç‡•è¿‡ç•™å£° é£å»ç•™ç—•">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="é™©å³°é£æ™¯">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2019/01/06/011_%E4%B8%80%E7%A7%8D%E9%AB%98%E6%95%88%E7%9A%84NLP%20Word2Vec%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/" class="post-title-link" itemprop="url">ä¸€ç§é«˜æ•ˆçš„NLP Word2Vecä½¿ç”¨æ–¹æ³•</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2019-01-06 16:00:00" itemprop="dateCreated datePublished" datetime="2019-01-06T16:00:00+08:00">2019-01-06</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">Edited on</span>
        <time title="Modified: 2019-11-09 23:02:36" itemprop="dateModified" datetime="2019-11-09T23:02:36+08:00">2019-11-09</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index"><span itemprop="name">æŠ€æœ¯</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="ç»¼è¿°"><a href="#ç»¼è¿°" class="headerlink" title="ç»¼è¿°"></a>ç»¼è¿°</h1><p>æœ¬æ–‡ä¸»è¦ä»‹ç»ä¸€ä¸ªåœ¨è¿›è¡ŒNLPé¢†åŸŸæ·±åº¦å­¦ä¹ ä»»åŠ¡æ—¶çš„è¯åµŒå…¥å°æŠ€å·§<a target="_blank" rel="noopener" href="https://github.com/LG-1/w2vembeddings">w2vembeddings</a>ã€‚å‡å°‘ä¸å¿…è¦çš„å†…å­˜å ç”¨ä»¥åŠ95%çš„åŠ è½½æ—¶é—´ã€‚ä¹Ÿå¤§å¤§åŠ å¼ºäº†è¯åµŒå…¥åº“çš„ç®¡ç†èƒ½åŠ›åŠå¤ç”¨æ€§ã€‚</p>
<h1 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h1><p>åœ¨è¿›è¡ŒNLPä»»åŠ¡çš„æ—¶å€™ï¼Œä¸€èˆ¬ä¼šåˆ©ç”¨Word2Vecè¿›è¡ŒåµŒå…¥ã€‚ç”Ÿæˆä¸€ä¸ªåŸºäºå½“å‰ä»»åŠ¡çš„è¯å‘é‡çŸ©é˜µã€‚æ­£å¦‚ä¸‹é¢è¿™æ ·ã€‚<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">embedding_matrix_p</span>(<span class="params">embeddings_index, word_index, max_features</span>):            </span><br><span class="line">    embed_size = embeddings_index.get(<span class="string">&#x27;a&#x27;</span>).shape[<span class="number">0</span>]</span><br><span class="line">    embedding_matrix = np.random.normal(<span class="number">0</span>, <span class="number">0</span>, (max_features, embed_size))</span><br><span class="line">    <span class="keyword">for</span> word, i <span class="keyword">in</span> word_index.items():</span><br><span class="line">        <span class="keyword">if</span> i &gt;= max_features: <span class="keyword">continue</span></span><br><span class="line">        embedding_vector = embeddings_index.get(word, np.zeros(embed_size))</span><br><span class="line">        embedding_matrix[i] = embedding_vector</span><br><span class="line">    <span class="keyword">return</span> embedding_matrix</span><br></pre></td></tr></table></figure></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">EMBEDDING_FILE = <span class="string">&#x27;../input/embeddings/glove.840B.300d/glove.840B.300d.txt&#x27;</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_coefs</span>(<span class="params">word,*arr</span>): <span class="keyword">return</span> word, np.asarray(arr, dtype=<span class="string">&#x27;float32&#x27;</span>)</span><br><span class="line">embeddings_index = <span class="built_in">dict</span>(get_coefs(*o.split(<span class="string">&quot; &quot;</span>)) <span class="keyword">for</span> o <span class="keyword">in</span> <span class="built_in">open</span>(EMBEDDING_FILE))</span><br><span class="line">embedding_matrix, embed_size = embedding_matrix_p(embeddings_index, word_index, max_features)</span><br></pre></td></tr></table></figure>
<p>ä½†æ˜¯è¿™æ ·å°±ä¼šæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœæ¯æ¬¡éƒ½ä»æ–‡ä»¶(txt/bin)ä¸­loadçš„è¯éœ€è¦è§£æï¼Œæ˜¯æ¯”è¾ƒè´¹æ—¶é—´çš„ï¼Œè€Œä¸”loadè¿›å†…å­˜ä¸­å‘é‡åˆä¸éƒ½ç”¨å¾—åˆ°ã€‚å‡å¦‚æŸæ¬¡ä»»åŠ¡åˆ†è¯ä¸‹æ¥åªæœ‰2ä¸‡ä¸ªï¼Œè€Œè¯å‘é‡æ–‡ä»¶ä¸€èˆ¬éƒ½æ˜¯å‡ ç™¾ä¸‡çš„çº§åˆ«ï¼Œæ‰€ä»¥çœŸæ­£å‘æŒ¥ä½œç”¨çš„å…¶å®åªæœ‰ç™¾åˆ†ä¹‹å‡ ã€‚é‚£ä¹ˆå¦‚ä½•è§£å†³è¿™éƒ¨åˆ†ä¸å¿…è¦çš„æ—¶é—´æµªè´¹åŠå†…å­˜å ç”¨å‘¢ï¼Ÿ</p>
<h1 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h1><p>äº†è§£äº†ä¸€äº›éƒ¨ç½²word2vecçš„æ–¹æ³•ä¹‹åï¼Œå‘ç°å¤§æ¦‚æ˜¯è¿™ä¹ˆä¸¤ç§ï¼š<br>    1ã€ä»æœ¬åœ°loadåˆ°å†…å­˜ã€‚<br>    2ã€èµ·æœåŠ¡ï¼Œè°ƒç”¨REST APIã€‚<br>æ–¹æ¡ˆ1ä¹Ÿå°±ä¸Šé¢è®²çš„æ¨¡å¼ã€‚æ¯æ¬¡loadéœ€è¦æ—¶é—´ï¼Œä¸”ä¼šå ç”¨è¿è¡Œå†…å­˜ã€‚<br>æ–¹æ¡ˆ2ä¹Ÿå°±æ˜¯ä¸ºè¯·æ±‚è¯å‘é‡å•ç‹¬èµ·ä¸ªæœåŠ¡ï¼Œè¿™ä¸ªæ¶æ„ä¼šæ¯”è¾ƒæ¸…æ™°ã€‚ä½†æ˜¯å¦‚æœéœ€è¦ä½¿ç”¨åˆ°å…¨å±€è¯å‘é‡çš„è¯ä¹Ÿä¼šæ¯”è¾ƒéº»çƒ¦ï¼Œè€Œä¸”ï¼ŒçœŸçš„æœ‰å¿…è¦èµ·ä¸ªæœåŠ¡è¿™ä¹ˆéº»çƒ¦å—ï¼Ÿ</p>
<p>åœ¨é—²æš‡æ—¶å‚è€ƒ<a target="_blank" rel="noopener" href="https://github.com/vzhong/embeddings">embeddings</a>çš„å®ç°é‡æ–°å°è£…äº†ä¸€ä¸ªåŒ…<a target="_blank" rel="noopener" href="https://github.com/LG-1/w2vembeddings">w2vembeddings</a>ã€‚<br>ä¸»è¦æ˜¯å°†è¯å‘é‡å†…å®¹è¿ç§»åˆ°SQLiteä¸­ï¼Œæœ¬è´¨ä¸Šæ¥è®²ä¹Ÿå°±æ˜¯å°†word2vecæ¢äº†ä¸€ç§å­˜å‚¨æ ¼å¼ã€‚ä½†æ˜¯ç”±äºSQLiteæ˜¯æ•°æ®åº“ï¼Œä¸”æ— æœåŠ¡å™¨ã€‚æ‰€ä»¥æ–¹ä¾¿é«˜æ•ˆï¼ŒæŸ¥è¯¢å¿«é€Ÿï¼ˆä¹Ÿä¸éœ€è¦ç”¨åˆ°å†™å…¥åŠŸèƒ½ï¼Œé™¤äº†ç¬¬ä¸€æ¬¡è½¬æ¢æ ¼å¼çš„æ—¶å€™ï¼‰ã€‚</p>
<p>ä¸»è¦æœ‰ä»¥ä¸‹åŠŸèƒ½ï¼š<br>    è¯å‘é‡åº“ç®¡ç†<br>    è¯å‘é‡å³æ—¶è°ƒç”¨ï¼Œéšå–éšç”¨</p>
<p>ä¸»è¦è§£å†³å†…å­˜å ç”¨å’ŒåŠ è½½è€—æ—¶çš„é—®é¢˜ã€‚è¿˜å¯ä»¥å°†å¤šä¸ªè¯å‘é‡åº“æ”¾åœ¨ä¸€èµ·ç®¡ç†ã€‚<br>ä½¿ç”¨æ–¹æ³•ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> w2vembeddings.w2vemb <span class="keyword">import</span> EMB</span><br><span class="line">emb = EMB(name=<span class="string">&#x27;tencent&#x27;</span>, dimensions=<span class="number">200</span>)  <span class="comment"># åŠ è½½è¯å‘é‡åº“ï¼Œç›¸å½“äºåŸæ¥ä»æ–‡ä»¶åŠ è½½çš„æ­¥éª¤</span></span><br><span class="line"><span class="comment"># æŒ‰éœ€æå–è¯å‘é‡çŸ©é˜µ</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">embedding_matrix_p</span>(<span class="params">emb, word_index, max_features</span>):    </span><br><span class="line">    embed_size = <span class="built_in">len</span>(emb.get_vector(<span class="string">&#x27;a&#x27;</span>))</span><br><span class="line">    embedding_matrix = np.random.normal(<span class="number">0</span>, <span class="number">0</span>, (max_features, embed_size))</span><br><span class="line">    <span class="keyword">for</span> word, i <span class="keyword">in</span> word_index.items():</span><br><span class="line">        <span class="keyword">if</span> i &gt;= max_features: <span class="keyword">continue</span></span><br><span class="line">        embedding_matrix[i] = np.array(emb.get_vector(word))</span><br><span class="line">    <span class="keyword">return</span> embedding_matrix</span><br></pre></td></tr></table></figure>
<h2 id="ä¼˜åŠ¿"><a href="#ä¼˜åŠ¿" class="headerlink" title="ä¼˜åŠ¿"></a>ä¼˜åŠ¿</h2><p> å¯ä»¥èŠ‚çº¦æ‰å‡ ä¹æ‰€æœ‰çš„ä¸å¿…è¦çš„å†…å­˜å ç”¨ï¼Œä»¥åŠ95%çš„æ—¶é—´ã€‚</p>
<h1 id="é—®é¢˜-1"><a href="#é—®é¢˜-1" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h1><p>å½“ç„¶è¿™ä¸ªæ–¹æ¡ˆä¹Ÿæœ‰é—®é¢˜ï¼Œè·ŸREST APIä¸€æ ·ï¼Œæƒ³è¦ä½¿ç”¨è¯å‘é‡å…¨å±€ä¿¡æ¯çš„æ—¶å€™ä¹Ÿä¸æ–¹ä¾¿ã€‚å¦‚æœæœ‰è¿™ç§éœ€æ±‚ï¼Œå»ºè®®å‚è€ƒgensimã€‚<br>è¿™ä¸ªæ–¹æ³•ä¸»è¦é¢å‘é‚£äº›ç»å¸¸ä½¿ç”¨word2vecåšç ”ç©¶çš„äººï¼Œä»¥åŠå°å‹çš„çº¿ä¸Šéƒ¨ç½²åœºæ™¯ã€‚<br><a href="https://www.ourantech.club/2019/01/06/011_ä¸€ç§é«˜æ•ˆçš„NLP%20Word2Vecä½¿ç”¨æ–¹æ³•/">åŸæ–‡å‘è¡¨äº</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://www.ourantech.club/2019/01/01/010_%E5%BC%80%E5%8F%91%E6%9D%82%E4%B8%83%E6%9D%82%E5%85%AB/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="LG">
      <meta itemprop="description" content="ä¸è¦è¯´æ˜¯ä¸ºä»€ä¹ˆ ç‡•è¿‡ç•™å£° é£å»ç•™ç—•">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="é™©å³°é£æ™¯">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2019/01/01/010_%E5%BC%80%E5%8F%91%E6%9D%82%E4%B8%83%E6%9D%82%E5%85%AB/" class="post-title-link" itemprop="url">å¼€å‘æ‚ä¸ƒæ‚å…«</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2019-01-01 16:30:00" itemprop="dateCreated datePublished" datetime="2019-01-01T16:30:00+08:00">2019-01-01</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">Edited on</span>
        <time title="Modified: 2022-04-25 20:11:07" itemprop="dateModified" datetime="2022-04-25T20:11:07+08:00">2022-04-25</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index"><span itemprop="name">æŠ€æœ¯</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h1><h2 id="pypiåŒ…å‘å¸ƒ"><a href="#pypiåŒ…å‘å¸ƒ" class="headerlink" title="pypiåŒ…å‘å¸ƒ"></a>pypiåŒ…å‘å¸ƒ</h2><p><a target="_blank" rel="noopener" href="https://pypi.org/project/twine/">https://pypi.org/project/twine/</a><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">python setup.py sdist bdist_wheel</span><br><span class="line">twine upload dist/* -u &#123;username&#125; -p &#123;<span class="built_in">pwd</span>&#125; &#123;--skip-existing&#125;</span><br></pre></td></tr></table></figure></p>
<h1 id="Git"><a href="#Git" class="headerlink" title="Git"></a>Git</h1><h2 id="ä»“åº“æƒé™æ·»åŠ "><a href="#ä»“åº“æƒé™æ·»åŠ " class="headerlink" title="ä»“åº“æƒé™æ·»åŠ "></a>ä»“åº“æƒé™æ·»åŠ </h2><ul>
<li>ç”Ÿæˆæœ¬åœ°å¯†é’¥(å¦‚æœæœ¬åœ°å¯†é’¥æ›´æ–°äº†,ä¹Ÿéœ€è¦åŒæ­¥æ›´æ–°è¿œç¨‹é…ç½®çš„æœ¬åœ°key)</li>
<li>å°†æœ¬åœ°keyé…å¤‡åˆ°è¿œç¨‹ä»“åº“ä¸Šå®ç°å…å¯†ç™»é™†(æ‹‰å–/æäº¤ç­‰)  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pbcopy &lt; ~/.ssh/id_rsa.pub</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h1 id="å¼€å‘ç¯å¢ƒ"><a href="#å¼€å‘ç¯å¢ƒ" class="headerlink" title="å¼€å‘ç¯å¢ƒ"></a>å¼€å‘ç¯å¢ƒ</h1><p><a target="_blank" rel="noopener" href="https://learn.hashicorp.com/tutorials/vagrant/getting-started-index">å¿«é€Ÿupè™šæ‹Ÿç¯å¢ƒ vagrant</a><br><a target="_blank" rel="noopener" href="https://app.vagrantup.com/boxes/search?order=desc&amp;page=1&amp;provider=virtualbox&amp;q=macos&amp;sort=created&amp;utf8=âœ“">vagrant cloud</a><br>    vagrant init hashicorp/bionic64  // hashicorp/bionic64 should be from cloud<br>    vagrant up<br>    vagrant ssh<br>    vagrant destroy</p>
<h1 id="ML"><a href="#ML" class="headerlink" title="ML"></a>ML</h1><h2 id="ç‰¹å¾å·¥ç¨‹èµ„æº"><a href="#ç‰¹å¾å·¥ç¨‹èµ„æº" class="headerlink" title="ç‰¹å¾å·¥ç¨‹èµ„æº"></a>ç‰¹å¾å·¥ç¨‹èµ„æº</h2><p>category_encoders<br>    ce.CountEncoder<br>    ce.TargetEncoder<br>    ce.CatBoostEncoder</p>
<p>â€‹</p>
<h2 id="ç‰¹å¾é€‰æ‹©èµ„æº"><a href="#ç‰¹å¾é€‰æ‹©èµ„æº" class="headerlink" title="ç‰¹å¾é€‰æ‹©èµ„æº"></a>ç‰¹å¾é€‰æ‹©èµ„æº</h2><p>sklearn.feature_selection<br>    åŸºäºç‰¹å¾çš„é€‰æ‹©(ä¾æ®è¯„åˆ†å‡½æ•°è¯„ä»·ç‰¹å¾å¯¹ç›®æ ‡çš„è´¡çŒ®, ğœ’2, ANOVA, F-value, äº’ä¿¡æ¯)<br>    åŸºäºæ¨¡å‹çš„é€‰æ‹©(l1, l2)</p>
<h2 id="ç¼–ç¨‹è¯­è¨€åŸºç¡€"><a href="#ç¼–ç¨‹è¯­è¨€åŸºç¡€" class="headerlink" title="ç¼–ç¨‹è¯­è¨€åŸºç¡€"></a>ç¼–ç¨‹è¯­è¨€åŸºç¡€</h2><pre><code>### NodeJS
    - NodeJS basics.
    - Event Loop.
    - Loop Tick.
    - NodeJS core modules.
    - Node package manager.
    - Asynchronous JavaScript and Promises.
    - How to develop full API
</code></pre><h2 id="è®ºæ–‡èµ„æº"><a href="#è®ºæ–‡èµ„æº" class="headerlink" title="è®ºæ–‡èµ„æº"></a>è®ºæ–‡èµ„æº</h2><pre><code>ç”»å›¾: sane_tikz
</code></pre><h2 id="GPU-æ¨¡å‹-debug"><a href="#GPU-æ¨¡å‹-debug" class="headerlink" title="GPU æ¨¡å‹ debug"></a>GPU æ¨¡å‹ debug</h2><pre><code>å¦‚æœæ¨¡å‹åœ¨GPUä¸ŠæŠ¥é”™,å¯èƒ½ç»™å‡ºçš„æŠ¥é”™ä¿¡æ¯éå¸¸çš„ç¬¼ç»Ÿ, è¿™æ—¶å¦‚æœæŠŠæ¨¡å‹æ”¾åˆ°CPUç«¯æ‰§è¡Œ,å¯èƒ½ç»™å‡ºçš„æŠ¥é”™ä¿¡æ¯ä¼šæ›´åŠ çš„å…·ä½“.
</code></pre><h2 id="è¿ç­¹ä¼˜åŒ–æ±‚è§£å™¨è¯„æµ‹"><a href="#è¿ç­¹ä¼˜åŒ–æ±‚è§£å™¨è¯„æµ‹" class="headerlink" title="è¿ç­¹ä¼˜åŒ–æ±‚è§£å™¨è¯„æµ‹"></a>è¿ç­¹ä¼˜åŒ–æ±‚è§£å™¨è¯„æµ‹</h2><pre><code>ç”± Hans Mittelmannç»„ç»‡
[1]. http://plato.asu.edu/bench.html
[2]. http://plato.asu.edu/ftp/milp.html
![image](\images_source\_010_\or-sovler.png)
</code></pre>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/4/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><span class="page-number current">5</span><a class="page-number" href="/page/6/">6</a><span class="space">&hellip;</span><a class="page-number" href="/page/12/">12</a><a class="extend next" rel="next" href="/page/6/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>


<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      const activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      const commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 2016 â€“ 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">LG</span>
</div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  






  




  <script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
        tags: 'ams'
      },
      options: {
        renderActions: {
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              const target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    const script = document.createElement('script');
    script.src = 'https://cdn.jsdelivr.net/npm/mathjax@3.1.2/es5/tex-mml-chtml.js';
    script.defer = true;
    document.head.appendChild(script);
  } else {
    MathJax.startup.document.state(0);
    MathJax.typesetClear();
    MathJax.texReset();
    MathJax.typeset();
  }
</script>



</body>
</html>
